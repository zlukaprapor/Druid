Ключові особливості нової версії:
1. Розумна система донавчання:

Автоматично відстежує зміни в даних (розмір файлу + хеш)
Донавчання тільки при значних змінах (>10% нових даних або >1000 записів)
Захист від надто частого донавчання (максимум раз на тиждень)

2. Rolling Window підхід:

Використовує останні 30% даних для донавчання (налаштовується)
Зберігає пам'ять про старі патерни
Ефективно для постійно оновлюваних даних

3. Автоматичне управління:

Зберігає інформацію про останнє навчання
Автоматично визначає чи потрібно донавчання
Можливість примусового донавчання

Використання:
Автоматичний режим (рекомендований):
python# Просто запустіть - система сама вирішить чи потрібно донавчання
main()
Ручний режим:
python# Примусове донавчання з налаштуваними параметрами
manual_retrain(
    new_data_ratio=0.3,    # Скільки останніх даних використати (30%)
    learning_rate=0.0001,  # Швидкість навчання
    epochs=30              # Кількість епох
)
Для примусового донавчання змініть в main():
pythonforce_retrain=True  # Замість False
Налаштування порогів:
В методі check_if_retraining_needed() можете змінити:

size_threshold - поріг для нових даних
time_threshold_days - мінімальний інтервал між донавчаннями
new_data_ratio - частка останніх даних для донавчання

Тепер код буде працювати з вашим єдиним файлом і розумно визначати коли потрібно донавчання!